import streamlit as st
import pandas as pd
import numpy as np
from PIL import Image
from pathlib import Path
from streamlit_tensorboard import st_tensorboard
import tensorflow

import streamlit as st

# Affichage du titre
st.title("Partie 2 : Analyse et visualisation des datas")

# Affichage du titre
st.header("Les données")

# Affichage du texte descriptif
st.text("- Les données de chacun des participants étaient stockées dans un fichier matlab.\n"
         "- Leur extraction et l’utilisation de la librairie MNE nous a permis de les séparer en « epoch ».\n"
         "- Chaque epoch correspond à la fenêtre temporelle durant laquelle le participant réalisait une condition expérimentale (repos ou l’un des 4 mouvements ou l’indication du début d’une séquence expérimentale).")

# Affichage du titre
st.header("Premières visualisations")

st.text("A l’aide de la librairie MNE et de la commande plot_raw, il est possible d’observer l’amplitude du signal pour l’ensemble des électrodes d’enregistrement : ")

# Affichage de l'image
image = "chemin_vers_l_image.png"
st.image(image)


# Affichage du titre diapo 3 et 4
st.header("Premières visualisations (EEG)")

st.text("Il est également possible d’observer le signal de chaque électrode ou capteur, moyenné pour une condition particulière : ")


# Options du menu déroulant
options = ['EEG', 'NIRS']
selected_option = st.selectbox('Sélectionnez le type de signaux à afficher', options)

if selected_option == 'EEG':
    # Affichage des 4 images EEG
    image1 = "chemin_vers_image1_eeg.png"
    image2 = "chemin_vers_image2_eeg.png"
    image3 = "chemin_vers_image3_eeg.png"
    image4 = "chemin_vers_image4_eeg.png"
    st.image([image1, image2], caption=['Image EEG 1', 'Image EEG 2'])
    st.image([image3, image4], caption=['Image EEG 3', 'Image EEG 4'])
else:
    # Affichage des 4 images NIRS
    image1 = "chemin_vers_image1_nirs.png"
    image2 = "chemin_vers_image2_nirs.png"
    image3 = "chemin_vers_image3_nirs.png"
    image4 = "chemin_vers_image4_nirs.png"
    st.image([image1, image2], caption=['Image NIRS 1', 'Image NIRS 2'])
    st.image([image3, image4], caption=['Image NIRS 3', 'Image NIRS 4'])





# Affichage du titre diapo 5
st.header("Premières visualisations")

st.text("Enfin, il est possible d’accéder à la dynamique des changements d’activité neuronal à l’aide de la fonction plot_topomap de MNE : ")
gif = "chemin_vers_le_gif.png"
st.image(gif)



# Affichage du titre diapo 6
st.header("Analyse fréquentielle du signal EEG")
st.text("Il est également possible d’observer la densité  spectral de puissance (ou PSD en anglais. Elle nous renseigne sur la répartition fréquentielle de la puissance d’un signal :")


image_psd = "chemin_vers_image_psd.png"
st.image(image_psd)

st.text("Rappel, rythmes physiologiques : delta (<4Hz), thêta (4-8Hz), alpha (8-12Hz, bêta (12 à 30 Hz) et gamma (>30Hz)")
